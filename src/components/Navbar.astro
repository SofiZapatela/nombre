---
interface NavItem {
  title: string;
  href: string;
}

interface Props {
  siteTitle?: string;
  navItems?: NavItem[];
}

const {
  siteTitle = 'Mi sitio',
  navItems = [
    { title: 'Inicio', href: '/' },
    { title: 'Nosotros', href: '#nosotros' },
    { title: 'Servicios', href: '#servicios' },
    { title: 'Portfolio', href: '#portfolio' },
    { title: 'Proceso', href: '#proceso' },
    { title: 'Preguntas Frecuentes', href: '#preguntas' },
  ] as NavItem[],
} = Astro.props as Props;
---

<nav class="fixed top-6 inset-x-0 z-50 px-4 relative">

  <!-- BOTÓN MOBILE -->
  <button
    id="astro-menu-btn"
    aria-label="Abrir menú"
    aria-expanded="false"
    class="
      sm:hidden
      absolute
      right-4
      top-1/2
      -translate-y-1/2
      text-white
      z-50
    "
  >
    <svg xmlns="http://www.w3.org/2000/svg"
      class="h-7 w-7"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M4 6h16M4 12h16M4 18h16" />
    </svg>
  </button>

  <!-- NAV DESKTOP -->
  <div class="hidden sm:flex justify-center">
    <div
      class="
        flex items-center gap-6
        px-8 py-3
        rounded-full
        backdrop-blur-xl
        bg-white/10
        
        shadow-lg
      "
    >
      {navItems.map((item: NavItem) => (
        <a
          href={item.href}
          class="text-sm font-medium text-white/90 hover:text-white transition"
        >
          {item.title}
        </a>
      ))}

      <a
        href="/contacto"
        class="
          text-sm font-semibold
          px-5 py-2
          rounded-full
          bg-white/15
          text-white
          hover:bg-white/25
          transition
        "
      >
        Contactanos
      </a>
    </div>
  </div>

  <!-- MENÚ MOBILE -->
  <div
    id="astro-mobile-menu"
    class="
      sm:hidden hidden
      absolute
      right-4
      top-full
      mt-4
      w-56
      px-6 py-4
      rounded-3xl
      backdrop-blur-xl
      bg-white/10
      border border-white/20
    "
  >
    <div class="flex flex-col gap-4 text-right">
      {navItems.map((item: NavItem) => (
        <a
          href={item.href}
          class="text-white/90 hover:text-white transition"
        >
          {item.title}
        </a>
      ))}

      <a
        href="/contacto"
        class="
          mt-2
          text-sm font-semibold
          px-5 py-2
          rounded-full
          bg-white/15
          text-white
          hover:bg-white/25
          transition
          text-center
        "
      >
        Contactanos
      </a>
    </div>
  </div>

  <script>
    const btn = document.getElementById('astro-menu-btn');
    const menu = document.getElementById('astro-mobile-menu');

    if (btn && menu) {
      btn.addEventListener('click', () => {
        menu.classList.toggle('hidden');
      });
    }
  </script>

</nav>
